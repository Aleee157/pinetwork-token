// Translations
const translations = {
    en: {
        "menu.home": "Home",
        "menu.why": "Why Pi?",
        "menu.start": "Start",
        "menu.community": "Community",
        "hero.title": "Earn Pi Tokens from your mobile. Easy. Secure. Battery-friendly.",
        "hero.cta": "Start now and earn a free token",
        "welcome.title": "Welcome to Pi Network",
        "welcome.p1": "Pi Network is a platform that allows you to mine cryptocurrency from your mobile, without draining battery or resources.",
        "welcome.p2": "Just open the app once a day and tap a button.",
        "welcome.p3": "It's free, accessible and still in early stage:",
        "welcome.highlight": "You're just in time to join when it's still worth it.",
        "why.title": "Why Pi?",
        "why.noInvestment.title": "No Investment",
        "why.noInvestment.desc": "You don't need to invest money to start mining Pi.",
        "why.eco.title": "Eco-friendly",
        "why.eco.desc": "Ecological mining without excessive energy consumption.",
        "why.easy.title": "Easy to use",
        "why.easy.desc": "Mine without keeping your phone constantly on.",
        "why.community.title": "Big Community",
        "why.community.desc": "More than 50M people are already participating.",
        "why.future": "Pi is still in development, but when it enters the market... those who mined early may have a real advantage.",
        "start.title": "3 steps to start mining",
        "start.download.title": "Download the app",
        "start.download.desc": "Download the official Pi Network app for Android or iOS.",
        "start.account.title": "Create your account",
        "start.account.desc": "It's simple, just like creating a profile on any social network.",
        "start.mine.title": "Mine once a day",
        "start.mine.desc": "Tap the mining button once a day to accumulate Pi.",
        "start.noCodes": "No visible codes or referrals needed.",
        "community.title": "Pi Network Community",
        "community.growth": "Pi Market Cap",
        "community.active": "Active Community",
        "community.miners": "users mining",
        "community.lastUpdated": "Last update: ",
        "footer.useful": "Useful Links",
        "footer.whitepaper": "White Paper",
        "footer.faq": "FAQ",
        "footer.terms": "Terms and Conditions",
        "footer.privacy": "Privacy Policy",
        "footer.community": "Community",
        "footer.follow": "Follow Us",
        "footer.rights": "All rights reserved.",
        "meta.title": "Mine Pi Token | Free Cryptocurrency Mining | Mobile Pi Network",
        "meta.description": "Earn free Pi tokens from your mobile device. No investment, battery-friendly mining. Start earning cryptocurrency today without any cost.",
        "meta.keywords": "Pi Network, Pi, Token Pi, Pi network, mine token free, earn tokens, earn cryptocurrency, free crypto, cryptocurrency mining, mobile mining, no investment crypto, Pi token, digital currency, crypto earnings, free tokens, mine Pi"
    },
    es: {
        "menu.home": "Inicio",
        "menu.why": "¿Por qué Pi?",
        "menu.start": "Empezar",
        "menu.community": "Comunidad",
        "hero.title": "Ganá Pi Tokens desde tu celular. Fácil. Seguro. Sin gastar batería.",
        "hero.cta": "Comienza ahora y gana una token gratis",
        "welcome.title": "Bienvenido a Pi Network",
        "welcome.p1": "Pi Network es una plataforma que permite minar criptomonedas desde el celular, sin consumir batería ni recursos.",
        "welcome.p2": "Solo necesitás abrir la app una vez al día y tocar un botón.",
        "welcome.p3": "Es gratis, accesible y sigue en etapa temprana:",
        "welcome.highlight": "Estás a tiempo de entrar cuando todavía vale la pena.",
        "why.title": "¿Por qué Pi?",
        "why.noInvestment.title": "Sin inversión",
        "why.noInvestment.desc": "No necesitás invertir dinero para comenzar a minar Pi.",
        "why.eco.title": "Ecológica",
        "why.eco.desc": "Minería ecológica sin consumo excesivo de energía.",
        "why.easy.title": "Fácil de usar",
        "why.easy.desc": "Minás sin dejar tu teléfono encendido constantemente.",
        "why.community.title": "Gran comunidad",
        "why.community.desc": "Más de 50M de personas ya están participando.",
        "why.future": "Pi todavía está en desarrollo, pero cuando entre al mercado… quienes minaron desde temprano pueden tener una ventaja real.",
        "start.title": "3 pasos para empezar a minar",
        "start.download.title": "Descargá la app",
        "start.download.desc": "Descargá la app oficial de Pi Network para Android o iOS.",
        "start.account.title": "Creá tu cuenta",
        "start.account.desc": "Es muy simple, como hacer un perfil en cualquier red social.",
        "start.mine.title": "Miná una vez al día",
        "start.mine.desc": "Tocá el botón de minería una vez al día para acumular Pi.",
        "start.noCodes": "Sin necesidad de códigos ni referidos visibles.",
        "community.title": "Comunidad Pi Network",
        "community.growth": "Capitalización de Pi",
        "community.active": "Comunidad activa",
        "community.miners": "usuarios minando",
        "community.lastUpdated": "Última actualización: ",
        "footer.useful": "Enlaces útiles",
        "footer.whitepaper": "White Paper",
        "footer.faq": "FAQ",
        "footer.terms": "Términos y Condiciones",
        "footer.privacy": "Política de Privacidad",
        "footer.community": "Comunidad",
        "footer.follow": "Síguenos",
        "footer.rights": "Todos los derechos reservados.",
        "meta.title": "Minar Pi Token | Minería de Criptomonedas Gratis | Red Pi Móvil",
        "meta.description": "Gana tokens Pi gratis desde tu móvil. Sin inversión, sin consumo de batería. Comienza a ganar criptomonedas hoy sin ningún costo.",
        "meta.keywords": "Red Pi, Pi, Token Pi, Pi network, minar token gratis, ganar tokens, ganar criptomonedas, cripto gratis, minería de criptomonedas, minería móvil, cripto sin inversión, token Pi, moneda digital, ganancias cripto, tokens gratis, minar Pi"
    },
    ar: {
        "menu.home": "الرئيسية",
        "menu.why": "لماذا باي؟",
        "menu.start": "ابدأ",
        "menu.community": "المجتمع",
        "hero.title": "احصل على رموز باي من هاتفك المحمول. سهل. آمن. صديق للبطارية.",
        "hero.cta": "ابدأ الآن واحصل على رمز مجاني",
        "welcome.title": "مرحبًا بك في شبكة باي",
        "welcome.p1": "شبكة باي هي منصة تسمح لك بتعدين العملات المشفرة من هاتفك المحمول، دون استنزاف البطارية أو الموارد.",
        "welcome.p2": "ما عليك سوى فتح التطبيق مرة واحدة في اليوم والنقر على زر.",
        "welcome.p3": "إنه مجاني، يمكن الوصول إليه ولا يزال في مرحلة مبكرة:",
        "welcome.highlight": "لقد وصلت في الوقت المناسب للانضمام عندما لا يزال الأمر يستحق.",
        "why.title": "لماذا باي؟",
        "why.noInvestment.title": "بدون استثمار",
        "why.noInvestment.desc": "لا تحتاج إلى استثمار المال لبدء تعدين باي.",
        "why.eco.title": "صديق للبيئة",
        "why.eco.desc": "تعدين بيئي بدون استهلاك مفرط للطاقة.",
        "why.easy.title": "سهل الاستخدام",
        "why.easy.desc": "قم بالتعدين دون إبقاء هاتفك قيد التشغيل باستمرار.",
        "why.community.title": "مجتمع كبير",
        "why.community.desc": "أكثر من 50 مليون شخص يشاركون بالفعل.",
        "why.future": "باي لا يزال قيد التطوير، ولكن عندما يدخل السوق... أولئك الذين قاموا بالتعدين مبكرًا قد يكون لهم ميزة حقيقية.",
        "start.title": "3 خطوات لبدء التعدين",
        "start.download.title": "تنزيل التطبيق",
        "start.download.desc": "قم بتنزيل تطبيق شبكة باي الرسمي لنظامي Android أو iOS.",
        "start.account.title": "أنشئ حسابك",
        "start.account.desc": "الأمر بسيط، تمامًا مثل إنشاء ملف تعريف على أي شبكة اجتماعية.",
        "start.mine.title": "ئدين مرة واحدة يوميًا",
        "start.mine.desc": "انقر على زر التعدين مرة واحدة في اليوم لتراكم باي.",
        "start.noCodes": "لا حاجة إلى رموز أو إحالات مرئية.",
        "community.title": "مجتمع شبكة باي",
        "community.growth": "القيمة السوقية لباي",
        "community.active": "المجتمع النشط",
        "community.miners": "مستخدمين يقومون بالتعدين",
        "community.lastUpdated": "آخر تحديث: ",
        "footer.useful": "روابط مفيدة",
        "footer.whitepaper": "الورقة البيضاء",
        "footer.faq": "الأسئلة الشائعة",
        "footer.terms": "الشروط والأحكام",
        "footer.privacy": "سياسة الخصوصية",
        "footer.community": "المجتمع",
        "footer.follow": "تابعنا",
        "footer.rights": "جميع الحقوق محفوظة.",
        "meta.title": "تعدين رمز باي | تعدين العملات المشفرة مجانًا | شبكة باي للجوال",
        "meta.description": "اكسب رموز باي المجانية من جهازك المحمول. بدون استثمار، تعدين صديق للبطارية. ابدأ في كسب العملات المشفرة اليوم بدون أي تكلفة.",
        "meta.keywords": "شبكة باي، باي، رمز باي، شبكة باي، تعدين رمز مجاني، كسب الرموز، كسب العملات المشفرة، عملات مشفرة مجانية، تعدين العملات المشفرة، تعدين الجوال، عملات مشفرة بدون استثمار، رمز باي، العملة الرقمية، أرباح العملات المشفرة، رموز مجانية، تعدين باي"
    },
    hi: {
        "menu.home": "होम",
        "menu.why": "पाई क्यों?",
        "menu.start": "शुरू करें",
        "menu.community": "समुदाय",
        "hero.title": "अपने मोबाइल से पाई टोकन कमाएं। आसान। सुरक्षित। बैटरी के अनुकूल।",
        "hero.cta": "अभी शुरू करें और एक फ्री टोकन प्राप्त करें",
        "welcome.title": "पाई नेटवर्क में आपका स्वागत है",
        "welcome.p1": "पाई नेटवर्क एक ऐसा प्लेटफॉर्म है जो आपको अपने मोबाइल से क्रिप्टोकरेंसी माइन करने की अनुमति देता है, बिना बैटरी या संसाधनों को खर्च किए।",
        "welcome.p2": "बस दिन में एक बार ऐप खोलें और एक बटन पर टैप करें।",
        "welcome.p3": "यह मुफ्त, सुलभ है और अभी भी प्रारंभिक चरण में है:",
        "welcome.highlight": "आप जुड़ने के लिए सही समय पर हैं जब इसका अभी भी मूल्य है।",
        "why.title": "पाई क्यों?",
        "why.noInvestment.title": "कोई निवेश नहीं",
        "why.noInvestment.desc": "पाई माइनिंग शुरू करने के लिए आपको पैसे निवेश करने की आवश्यकता नहीं है।",
        "why.eco.title": "पर्यावरण अनुकूल",
        "why.eco.desc": "अत्यधिक ऊर्जा खपत के बिना पारिस्थितिक माइनिंग।",
        "why.easy.title": "उपयोग में आसान",
        "why.easy.desc": "बिना फोन को लगातार चालू रखे माइन करें।",
        "why.community.title": "बड़ा समुदाय",
        "why.community.desc": "50 मिलियन से अधिक लोग पहले से ही भाग ले रहे हैं।",
        "why.future": "पाई अभी भी विकास के चरण में है, लेकिन जब यह बाजार में प्रवेश करेगा... जो लोग जल्दी माइन करते हैं, उन्हें वास्तविक लाभ हो सकता है।",
        "start.title": "माइनिंग शुरू करने के लिए 3 कदम",
        "start.download.title": "ऐप डाउनलोड करें",
        "start.download.desc": "Android या iOS के लिए आधिकारिक पाई नेटवर्क ऐप डाउनलोड करें।",
        "start.account.title": "अपना खाता बनाएं",
        "start.account.desc": "यह सरल है, बिलकुल किसी भी सोशल नेटवर्क पर प्रोफाइल बनाने की तरह।",
        "start.mine.title": "दिन में एक बार माइन करें",
        "start.mine.desc": "पाई जमा करने के लिए दिन में एक बार माइनिंग बटन पर टैप करें।",
        "start.noCodes": "कोई दृश्यमान कोड या रेफरल की आवश्यकता नहीं है।",
        "community.title": "पाई नेटवर्क समुदाय",
        "community.growth": "पाई की बाजार पूंजी",
        "community.active": "सक्रिय समुदाय",
        "community.miners": "माइनिंग करने वाले उपयोगकर्ता",
        "community.lastUpdated": "अंतिम अपडेट: ",
        "footer.useful": "उपयोगी लिंक",
        "footer.whitepaper": "व्हाइट पेपर",
        "footer.faq": "अक्सर पूछे जाने वाले प्रश्न",
        "footer.terms": "नियम और शर्तें",
        "footer.privacy": "गोपनीयता नीति",
        "footer.community": "समुदाय",
        "footer.follow": "हमें फॉलो करें",
        "footer.rights": "सर्वाधिकार सुरक्षित।",
        "meta.title": "पाई टोकन माइनिंग | फ्री क्रिप्टोकरेंसी माइनिंग | मोबाइल पाई नेटवर्क",
        "meta.description": "अपने मोबाइल डिवाइस से मुफ्त पाई टोकन कमाएं। बिना निवेश के, बैटरी के अनुकूल माइनिंग। बिना किसी लागत के आज ही क्रिप्टोकरेंसी कमाना शुरू करें।",
        "meta.keywords": "पाई नेटवर्क, पाई, टोकन पाई, पाई नेटवर्क, फ्री टोकन माइनिंग, टोकन कमाएं, क्रिप्टोकरेंसी कमाएं, फ्री क्रिप्टो, क्रिप्टोकरेंसी माइनिंग, मोबाइल माइनिंग, बिना निवेश क्रिप्टो, पाई टोकन, डिजिटल मुद्रा, क्रिप्टो आय, फ्री टोकन, पाई माइनिंग"
    },
    ru: {
        "menu.home": "Главная",
        "menu.why": "Почему Pi?",
        "menu.start": "Начать",
        "menu.community": "Сообщество",
        "hero.title": "Зарабатывайте Pi токены с вашего мобильного. Легко. Безопасно. Без расхода батареи.",
        "hero.cta": "Начните сейчас и получите бесплатный токен",
        "welcome.title": "Добро пожаловать в Pi Network",
        "welcome.p1": "Pi Network — это платформа, которая позволяет вам майнить криптовалюту с мобильного, не расходуя батарею или ресурсы.",
        "welcome.p2": "Просто открывайте приложение раз в день и нажимайте кнопку.",
        "welcome.p3": "Это бесплатно, доступно и все еще находится на ранней стадии:",
        "welcome.highlight": "Вы как раз вовремя, чтобы присоединиться, когда это еще стоит того.",
        "why.title": "Почему Pi?",
        "why.noInvestment.title": "Без инвестиций",
        "why.noInvestment.desc": "Вам не нужно вкладывать деньги, чтобы начать майнить Pi.",
        "why.eco.title": "Экологичность",
        "why.eco.desc": "Экологичный майнинг без чрезмерного потребления энергии.",
        "why.easy.title": "Легко использовать",
        "why.easy.desc": "Майните без необходимости постоянно держать телефон включенным.",
        "why.community.title": "Большое сообщество",
        "why.community.desc": "Более 50 миллионов человек уже участвуют.",
        "why.future": "Pi еще находится в разработке, но когда он выйдет на рынок... те, кто майнил рано, могут получить реальное преимущество.",
        "start.title": "3 шага для начала майнинга",
        "start.download.title": "Скачайте приложение",
        "start.download.desc": "Скачайте официальное приложение Pi Network для Android или iOS.",
        "start.account.title": "Создайте аккаунт",
        "start.account.desc": "Это просто, как создание профиля в любой социальной сети.",
        "start.mine.title": "Майните раз в день",
        "start.mine.desc": "Нажимайте на кнопку майнинга раз в день, чтобы накапливать Pi.",
        "start.noCodes": "Не требуются видимые коды или рефералы.",
        "community.title": "Сообщество Pi Network",
        "community.growth": "Рыночная капитализация Pi",
        "community.active": "Активное сообщество",
        "community.miners": "пользователей майнят",
        "community.lastUpdated": "Последнее обновление: ",
        "footer.useful": "Полезные ссылки",
        "footer.whitepaper": "Белая книга",
        "footer.faq": "ЧЗВ",
        "footer.terms": "Условия и положения",
        "footer.privacy": "Политика конфиденциальности",
        "footer.community": "Сообщество",
        "footer.follow": "Подписывайтесь на нас",
        "footer.rights": "Все права защищены.",
        "meta.title": "Майнинг Pi Token | Бесплатный майнинг криптовалюты | Мобильная сеть Pi",
        "meta.description": "Зарабатывайте бесплатные токены Pi с вашего мобильного устройства. Без инвестиций, экономия заряда батареи. Начните зарабатывать криптовалюту сегодня без каких-либо затрат.",
        "meta.keywords": "Сеть Pi, Pi, Токен Pi, Pi network, бесплатный майнинг токенов, заработок токенов, заработок криптовалюты, бесплатная крипто, майнинг криптовалюты, мобильный майнинг, крипто без вложений, токен Pi, цифровая валюта, заработок на крипто, бесплатные токены, майнинг Pi"
    }
};

document.addEventListener('DOMContentLoaded', () => {
    // Create images directory if needed
    createImagesDirectoryIfNeeded();
    
    // Configurar enlaces de descarga con redirección
    setupDownloadLinks();
    
    // Obtener y mostrar el valor actual de Pi (capitalización de mercado)
    fetchPiPrice();
    // Actualizar precio cada 5 minutos
    setInterval(fetchPiPrice, 5 * 60 * 1000);
    
    // Animar contador de usuarios (ya no necesario con texto fijo)
    // animateCounter();
    
    // Añadir efecto de revelación en scroll
    setupScrollReveal();
    
    // Añadir efectos de navegación suave
    setupSmoothScrolling();
    
    // Añadir efectos dorados
    setupGoldEffects();
    
    // Setup language switcher
    setupLanguageSwitcher();
    
    // Initialize SEO metadata
    updateMetadataByLanguage('en');
});

// Function to create images directory if needed
function createImagesDirectoryIfNeeded() {
    // This is just a placeholder, in a real environment you would check if the directory exists
    // and create it if needed. For now, we're using fallback images with onerror.
}

// Función para manejar los enlaces de descarga (redirección a Pi Network con referido)
function setupDownloadLinks() {
    const androidBtn = document.querySelector('.download-btn.android');
    const iosBtn = document.querySelector('.download-btn.ios');
    
    // Código de invitación
    const invitationCode = 'Aleee157';
    
    // Detectar si es dispositivo móvil
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    
    if (androidBtn) {
        androidBtn.addEventListener('click', (e) => {
            e.preventDefault();
            
            if (isMobile && /Android/i.test(navigator.userAgent)) {
                // Si es Android, redirigir directamente a Google Play Store
                window.location.href = 'https://play.google.com/store/apps/details?id=com.blockchainvault&referrer=utm_source%3Dreferral%26utm_medium%3Duser%26utm_term%3D' + invitationCode;
            } else {
                // Si no, redirigir a la web de Pi Network
                window.location.href = 'https://minepi.com/' + invitationCode;
            }
        });
    }
    
    if (iosBtn) {
        iosBtn.addEventListener('click', (e) => {
            e.preventDefault();
            
            if (isMobile && /iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                // Si es iOS, redirigir directamente a App Store
                window.location.href = 'https://apps.apple.com/app/pi-network/id1492434171?pt=' + invitationCode;
            } else {
                // Si no, redirigir a la web de Pi Network
                window.location.href = 'https://minepi.com/' + invitationCode;
            }
        });
    }
}

// Función para obtener y mostrar el valor actual de Pi (capitalización de mercado)
function fetchPiPrice() {
    const priceElement = document.getElementById('piPrice');
    const changeElement = document.getElementById('piPriceChange');
    const updateTimeElement = document.getElementById('lastUpdated');
    
    if (!priceElement || !changeElement || !updateTimeElement) return;
    
    // En una implementación real, este valor vendría de una API como CoinGecko o CoinMarketCap
    // Ejemplo: fetch('https://api.coingecko.com/api/v3/coins/pi-network?localization=false&tickers=false&market_data=true')
    
    // Simulación de capitalización de mercado con variación leve
    const baseMarketCap = 4.18; // Capitalización base en miles de millones de USD
    const randomVariation = (Math.random() * 2 - 1) * 0.08; // Variación de ±0.08B (1-2%)
    const currentMarketCap = (baseMarketCap + randomVariation).toFixed(2);
    
    // Cambio porcentual simulado
    const changePercentage = (randomVariation / baseMarketCap * 100).toFixed(2);
    const isPositive = changePercentage >= 0;
    
    // Obtener el idioma actual para formatear correctamente
    const currentLang = document.documentElement.getAttribute('lang') || 'en';
    
    // Actualizar elementos en la UI
    priceElement.textContent = `${currentMarketCap} B USD`;
    
    changeElement.textContent = `${isPositive ? '+' : ''}${changePercentage}%`;
    changeElement.className = 'pi-price-change ' + (isPositive ? 'price-up' : 'price-down');
    
    // Actualizar tiempo
    const now = new Date();
    const options = { hour: '2-digit', minute: '2-digit', second: '2-digit' };
    const formattedTime = now.toLocaleTimeString(currentLang, options);
    
    // Texto de última actualización en el idioma correcto
    let lastUpdatedText = "Última actualización: ";
    if (translations[currentLang] && translations[currentLang]["community.lastUpdated"]) {
        lastUpdatedText = translations[currentLang]["community.lastUpdated"];
    }
    
    updateTimeElement.textContent = `${lastUpdatedText}${formattedTime}`;
    
    // Programar la próxima actualización (cada 60 segundos para simular datos en tiempo real)
    setTimeout(fetchPiPrice, 60000);
}

// Función para configurar efectos de scroll reveal
function setupScrollReveal() {
    const sections = document.querySelectorAll('section');
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
                observer.unobserve(entry.target);
            }
        });
    }, {
        threshold: 0.1
    });
    
    sections.forEach(section => {
        observer.observe(section);
    });
    
    // Observar elementos internos para animaciones adicionales
    const benefitCards = document.querySelectorAll('.benefit-card');
    const stepItems = document.querySelectorAll('.step');
    
    const itemsObserver = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                // Añadir un retraso progresivo para crear un efecto cascada
                setTimeout(() => {
                    entry.target.classList.add('animate-in');
                }, index * 150);
                itemsObserver.unobserve(entry.target);
            }
        });
    }, {
        threshold: 0.1
    });
    
    benefitCards.forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        itemsObserver.observe(card);
    });
    
    stepItems.forEach(step => {
        step.style.opacity = '0';
        step.style.transform = 'translateY(20px)';
        itemsObserver.observe(step);
    });
}

// Configurar desplazamiento suave para navegación interna
function setupSmoothScrolling() {
    const links = document.querySelectorAll('a[href^="#"]');
    
    links.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                const headerOffset = 80; // Altura del header
                const elementPosition = targetElement.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                
                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });
}

// Configurar efectos dorados adicionales
function setupGoldEffects() {
    // Añadir clase CSS para activar animación de pulso dorado
    const goldElements = document.querySelectorAll('.gold-bg, .benefit-icon, .step-number, .social-icon');
    
    goldElements.forEach(element => {
        element.style.animation = 'goldPulse 3s infinite';
    });
    
    // Añadir partículas doradas sutiles al fondo (si el dispositivo es potente)
    if (window.innerWidth > 768) {
        createGoldParticles();
    }
}

// Función para crear partículas doradas en el banner hero
function createGoldParticles() {
    const hero = document.querySelector('.hero-banner');
    if (!hero) return;
    
    const particlesContainer = document.createElement('div');
    particlesContainer.classList.add('gold-particles');
    particlesContainer.style.position = 'absolute';
    particlesContainer.style.top = '0';
    particlesContainer.style.left = '0';
    particlesContainer.style.width = '100%';
    particlesContainer.style.height = '100%';
    particlesContainer.style.overflow = 'hidden';
    particlesContainer.style.pointerEvents = 'none';
    
    hero.appendChild(particlesContainer);
    
    // Crear partículas
    for (let i = 0; i < 30; i++) {
        const particle = document.createElement('div');
        particle.classList.add('gold-particle');
        
        // Estilos de partícula
        particle.style.position = 'absolute';
        particle.style.width = `${Math.random() * 5 + 2}px`;
        particle.style.height = particle.style.width;
        particle.style.borderRadius = '50%';
        particle.style.backgroundColor = '#dba632';
        particle.style.opacity = `${Math.random() * 0.5 + 0.1}`;
        
        // Posición inicial aleatoria
        const left = Math.random() * 100;
        const top = Math.random() * 100;
        particle.style.left = `${left}%`;
        particle.style.top = `${top}%`;
        
        // Animación
        particle.style.animation = `float ${Math.random() * 15 + 10}s infinite ease-in-out`;
        particle.style.animationDelay = `${Math.random() * 5}s`;
        
        particlesContainer.appendChild(particle);
    }
    
    // Añadir keyframes para la animación float
    const style = document.createElement('style');
    style.textContent = `
        @keyframes float {
            0%, 100% {
                transform: translate(0, 0);
            }
            25% {
                transform: translate(${Math.random() * 100 - 50}px, ${Math.random() * 50 - 25}px);
            }
            50% {
                transform: translate(${Math.random() * 100 - 50}px, ${Math.random() * 50 - 25}px);
            }
            75% {
                transform: translate(${Math.random() * 100 - 50}px, ${Math.random() * 50 - 25}px);
            }
        }
    `;
    document.head.appendChild(style);
}

// Setup language switcher
function setupLanguageSwitcher() {
    const langButtons = document.querySelectorAll('.lang-btn');
    const elements = document.querySelectorAll('[data-i18n]');
    
    // Set initial language
    applyLanguage('en');
    
    // Add click event to language buttons
    langButtons.forEach(button => {
        button.addEventListener('click', () => {
            const lang = button.getAttribute('data-lang');
            
            // Update active button
            langButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            
            // Apply translations
            applyLanguage(lang);
            
            // Update store badges based on language
            updateStoreBadges(lang);
        });
    });
}

// Apply translations for a specific language
function applyLanguage(lang) {
    const elements = document.querySelectorAll('[data-i18n]');
    
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
    
    // Set HTML lang attribute
    document.documentElement.setAttribute('lang', lang);
    
    // Set direction for RTL languages (like Arabic)
    if (lang === 'ar') {
        document.body.setAttribute('dir', 'rtl');
    } else {
        document.body.setAttribute('dir', 'ltr');
    }
    
    // Update metadata for SEO
    updateMetadataByLanguage(lang);
}

// Update store badges based on language
function updateStoreBadges(lang) {
    const androidBadge = document.querySelector('.download-btn.android img');
    const iosBadge = document.querySelector('.download-btn.ios img');
    
    // Update Android badge
    if (androidBadge) {
        switch(lang) {
            case 'es':
                androidBadge.src = 'https://play.google.com/intl/es/badges/static/images/badges/es_badge_web_generic.png';
                break;
            case 'ar':
                androidBadge.src = 'https://play.google.com/intl/ar/badges/static/images/badges/ar_badge_web_generic.png';
                break;
            case 'hi':
                androidBadge.src = 'https://play.google.com/intl/hi/badges/static/images/badges/hi_badge_web_generic.png';
                break;
            case 'ru':
                androidBadge.src = 'https://play.google.com/intl/ru/badges/static/images/badges/ru_badge_web_generic.png';
                break;
            default:
                androidBadge.src = 'https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png';
        }
    }
    
    // Update iOS badge - Using the official badge which doesn't have localized versions
    // Apple's guidelines recommend using the English badge globally
    if (iosBadge) {
        iosBadge.src = 'https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg';
    }
}

// Update metadata based on language selection
function updateMetadataByLanguage(lang) {
    if (translations[lang]) {
        // Update title
        if (translations[lang]['meta.title']) {
            document.title = translations[lang]['meta.title'];
        }
        
        // Update meta description
        const metaDescription = document.querySelector('meta[name="description"]');
        if (metaDescription && translations[lang]['meta.description']) {
            metaDescription.setAttribute('content', translations[lang]['meta.description']);
        }
        
        // Update meta keywords
        const metaKeywords = document.querySelector('meta[name="keywords"]');
        if (metaKeywords && translations[lang]['meta.keywords']) {
            metaKeywords.setAttribute('content', translations[lang]['meta.keywords']);
        }
        
        // Update Open Graph meta tags
        const ogTitle = document.querySelector('meta[property="og:title"]');
        const ogDescription = document.querySelector('meta[property="og:description"]');
        
        if (ogTitle && translations[lang]['meta.title']) {
            ogTitle.setAttribute('content', translations[lang]['meta.title']);
        }
        
        if (ogDescription && translations[lang]['meta.description']) {
            ogDescription.setAttribute('content', translations[lang]['meta.description']);
        }
        
        // Update Twitter Card meta tags
        const twitterTitle = document.querySelector('meta[name="twitter:title"]');
        const twitterDescription = document.querySelector('meta[name="twitter:description"]');
        
        if (twitterTitle && translations[lang]['meta.title']) {
            twitterTitle.setAttribute('content', translations[lang]['meta.title']);
        }
        
        if (twitterDescription && translations[lang]['meta.description']) {
            twitterDescription.setAttribute('content', translations[lang]['meta.description']);
        }
    }
}

// Clase CSS para elementos animados
document.head.insertAdjacentHTML('beforeend', `
<style>
.animate-in {
    animation: fadeInUp 0.8s ease forwards;
}
</style>
`); 